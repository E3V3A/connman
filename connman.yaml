Name: connman
Summary: Connection Manager
Version: 1.0
Release: 1
Group: Communications/ConnMan
License: GPLv2
URL: http://connman.net/
Sources:
    # https://github.com/connectivity/connman-stable/tarball/0.78.2
    - http://www.kernel.org/pub/linux/network/connman/%{name}-%{version}.tar.xz
Description: |
    Connection Manager provides a daemon for managing Internet connections
    within embedded devices running the Linux operating system.

Requires:
    - dbus
    - wpa_supplicant >= 0.7.1
    - bluez
    - ofono
    - pacrunner
    - ntp
PkgBR:
    - openconnect
    - openvpn
PkgConfigBR:
    - libiptc
    - xtables
    - glib-2.0
    - dbus-1
    - gnutls

Configure: configure
ConfigOptions:
    - --enable-threads
    - --enable-ethernet=builtin
    - --enable-wifi=builtin
    - --enable-bluetooth=builtin
    - --enable-ofono=builtin
    - --enable-openconnect=builtin
    - --enable-openvpn=builtin
    - --enable-loopback=builtin
    - --enable-pacrunner=builtin
    - --enable-meego=builtin
    - --enable-ntpd=builtin
    - --enable-client
    - --with-ntpd=/usr/sbin/ntpd
    - --enable-test
    - --with-systemdunitdir=/%{_lib}/systemd/system

SubPackages:
    - Name: devel
      Summary: Development files for Connection Manager
      Group: Development/Libraries
      Description: connman-devel contains development files for use with connman.

    - Name: test
      Summary: Test Scripts for Connection Manager
      Group: Development/Tools
      Description: Scripts for testing Connman and its functionality
      Requires:
        - dbus-python
        - pygobject2
